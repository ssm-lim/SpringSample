CREATE TABLE IF NOT EXISTS TB_USER (
	USER_NO INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL, 
	USER_ID varchar(30) NOT NULL,
	PASSWORD varchar(50) NOT NULL,
	ROLE_ID VARCHAR(30) NOT NULL,
	USER_NAME varchar(25) NOT NULL,
	EMAIL varchar(200),
	POINT INTEGER DEFAULT 0,
	REG_DATE timestamp DEFAULT CURRENT_TIMESTAMP,
	LAST_DATE timestamp DEFAULT CURRENT_TIMESTAMP,
	GENDER char(1),
	CONSTRAINT TB_USER_PK PRIMARY KEY (USER_ID)
);
/*
CREATE TABLE IF NOT EXISTS TB_INTERESTS (
	INTEREST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL, 
	USER_ID varchar(30) NOT NULL,
	INTEREST varchar(50) NOT NULL,
	CONSTRAINT TB_INTERESTS_PK PRIMARY KEY (INTEREST_ID)
);*/

CREATE TABLE IF NOT EXISTS SECURITY_ROLE (
	ROLE_NO INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL, 
	ROLE_ID VARCHAR(30) NOT NULL,
	ROLE_NAME VARCHAR(30) NOT NULL,
	USE_YN CHAR(1),
	EDITABLE CHAR(1),
	CONSTRAINT SECURITY_ROLE_PK PRIMARY KEY (ROLE_ID)
);
CREATE TABLE IF NOT EXISTS SECURITY_ROLE_HIERARCHY (
	PARENT_ROLE_ID VARCHAR(30),
	ROLE_ID VARCHAR(30) NOT NULL,
	ROLE_NAME VARCHAR(30) NOT NULL,
	CONSTRAINT SECURITY_ROLE_HIERARCHY_PK PRIMARY KEY (ROLE_ID),
	CONSTRAINT SECURITY_ROLE_HIERARCHY_FK FOREIGN KEY (PARENT_ROLE_ID) REFERENCES SECURITY_ROLE_HIERARCHY (ROLE_ID)
);
/*
CREATE TABLE IF NOT EXISTS SECURITY_ROLE_URL (
	URL VARCHAR(100) NOT NULL,
	ACCESS_ROLE VARCHAR(30) NOT NULL,
	PRIORITY INTEGER NOT NULL
);
*/

CREATE TABLE IF NOT EXISTS TB_BOARD (
	BOARD_NO INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
	BOARD_ID VARCHAR(30) NOT NULL,
	
	WRITER VARCHAR(30) NOT NULL,
	CREATE_DATE_TIME timestamp DEFAULT CURRENT_TIMESTAMP,
	
	TITLE VARCHAR(300),
	CONTENTS VARCHAR(1000000),
	
	DEPTH INTEGER DEFAULT 0,
	SEQ	INTEGER DEFAULT 0,
	
	UPDATE_DATE_TIME timestamp DEFAULT CURRENT_TIMESTAMP,
	UPDATER VARCHAR(30) NOT NULL,
	
	HIT	INTEGER DEFAULT 0
);

CREATE TABLE IF NOT EXISTS TB_BOARD_HISTORY (
	BOARD_NO INTEGER NOT NULL,
	BOARD_ID VARCHAR(30) NOT NULL,
	
	TITLE VARCHAR(300),
	CONTENTS VARCHAR(1000000),
	
	UPDATE_DATE_TIME timestamp DEFAULT CURRENT_TIMESTAMP,
	UPDATER VARCHAR(30) NOT NULL
)
